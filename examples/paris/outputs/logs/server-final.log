warning: unused variable: `our_request`
   --> crates/realm-server/src/dispatcher.rs:598:13
    |
598 |         let our_request = batch
    |             ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_our_request`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: `realm-server` (lib) generated 1 warning
    Finished `release` profile [optimized] target(s) in 0.50s
     Running `target/release/realm serve --host 127.0.0.1 --port 8080 --model /home/puneet/.ollama/models/tinyllama-1.1b.Q4_K_M.gguf --wasm target/wasm32-unknown-unknown/release/realm_wasm.wasm`
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Realm Inference CLI            â•‘
â•‘   Multi-tenant LLM Runtime v0.1.0        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

2025-11-05T11:41:06.556495Z  INFO realm: ğŸŒ Starting Realm WebSocket Server
2025-11-05T11:41:06.556536Z  INFO realm: ğŸ“¦ WASM Module: target/wasm32-unknown-unknown/release/realm_wasm.wasm
2025-11-05T11:41:06.556550Z  INFO realm: ğŸ“¦ Model: /home/puneet/.ollama/models/tinyllama-1.1b.Q4_K_M.gguf
2025-11-05T11:41:06.556559Z  INFO realm: ğŸ”— WebSocket: ws://127.0.0.1:8080
2025-11-05T11:41:06.556570Z  INFO realm: ğŸ“Š Metrics: http://127.0.0.1:9090/metrics
2025-11-05T11:41:06.556581Z  INFO realm: ğŸ‘¥ Max tenants: 8
2025-11-05T11:41:06.556591Z  INFO realm: ğŸ” Authentication: disabled
2025-11-05T11:41:06.556602Z  INFO realm: ğŸ’» Backend: CPU

Starting server...

2025-11-05T11:41:06.556643Z  INFO realm_server::runtime_manager: Initializing runtime manager with WASM: "target/wasm32-unknown-unknown/release/realm_wasm.wasm"
2025-11-05T11:41:06.822064Z  INFO realm_server::runtime_manager: WASM module loaded and compiled
2025-11-05T11:41:06.822117Z  INFO realm_server::runtime_manager: Set default model: "/home/puneet/.ollama/models/tinyllama-1.1b.Q4_K_M.gguf"
2025-11-05T11:41:06.822148Z  INFO realm_server::orchestrator: Registering model: default (type: "completion")
2025-11-05T11:41:06.822181Z  INFO realm_server::orchestrator: Set default as default model for type
2025-11-05T11:41:06.822202Z  INFO realm: âœ“ Registered model 'default' with orchestrator
âœ“ Server ready!

Available functions:
  â€¢ generate(prompt, options) - Generate text
  â€¢ pipeline(pipeline, input) - Execute multi-model pipeline
  â€¢ health() - Health check
  â€¢ metadata() - List available functions

Connect with wscat:
  wscat -c ws://127.0.0.1:8080

Example function call:
  {"id":"req_1","function":"generate","params":{"prompt":"Hello","max_tokens":50}}

â„¹ Press Ctrl+C to stop

2025-11-05T11:41:06.822383Z  INFO realm_server: ğŸš€ Realm WebSocket server listening on ws://127.0.0.1:8080
2025-11-05T11:41:06.822396Z  INFO realm_server: Runtime version: 0.1.0
2025-11-05T11:41:06.822409Z  INFO realm_server: Available functions:
2025-11-05T11:41:06.822416Z  INFO realm_server:   - generate (Generate text completion from a prompt)
2025-11-05T11:41:06.822426Z  INFO realm_server:   - health (Check server health status)
2025-11-05T11:41:06.822435Z  INFO realm_server:   - metadata (Get runtime metadata (available functions))
2025-11-05T11:41:06.822444Z  INFO realm_server:   - pipeline (Execute a multi-model pipeline)
2025-11-05T11:41:06.822468Z  INFO realm_server: ğŸ“Š Metrics available at http://127.0.0.1:9090/metrics
2025-11-05T11:41:06.822649Z  INFO realm_server::metrics_server: ğŸ“Š Metrics server listening on http://127.0.0.1:9090/metrics
2025-11-05T11:41:37.343775Z  INFO realm_server: New connection from 127.0.0.1:49348
2025-11-05T11:41:37.344344Z  INFO realm_server::websocket: New WebSocket connection (tenant: None)
2025-11-05T11:41:37.352115Z  INFO realm_server::dispatcher: Dispatching function: health (id: 424f8e61-a8ad-4a47-8769-4a187793ddb6)
2025-11-05T11:41:37.355079Z  INFO realm_server::dispatcher: Dispatching function: generate (id: 5e201c1a-4675-4747-ae59-1eb0ca800557)
2025-11-05T11:41:37.355120Z  WARN realm_server::dispatcher: Using client-provided tenant ID: 044c5c38-1483-4913-88b3-ee828920397a. For production, use API key authentication.
2025-11-05T11:41:37.355180Z  INFO realm_runtime::memory64_host: Memory64 Runtime: Candle CPU backend initialized
2025-11-05T11:41:37.355383Z ERROR realm_server::websocket: Dispatch error: Failed to instantiate WASM module
2025-11-05T11:41:37.362963Z ERROR realm_server::websocket: WebSocket error: WebSocket protocol error: Connection reset without closing handshake
2025-11-05T11:41:37.363018Z  INFO realm_server::websocket: WebSocket connection closed (tenant: None)
