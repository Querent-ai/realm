warning: unused variable: `our_request`
   --> crates/realm-server/src/dispatcher.rs:590:13
    |
590 |         let our_request = batch
    |             ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_our_request`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: `realm-server` (lib) generated 1 warning
    Finished `release` profile [optimized] target(s) in 0.52s
     Running `target/release/realm serve --host 127.0.0.1 --port 8080 --model /home/puneet/.ollama/models/tinyllama-1.1b.Q4_K_M.gguf --wasm target/wasm32-unknown-unknown/release/realm_wasm.wasm`
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Realm Inference CLI            â•‘
â•‘   Multi-tenant LLM Runtime v0.1.0        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

2025-11-05T11:33:53.583266Z  INFO realm: ğŸŒ Starting Realm WebSocket Server
2025-11-05T11:33:53.583316Z  INFO realm: ğŸ“¦ WASM Module: target/wasm32-unknown-unknown/release/realm_wasm.wasm
2025-11-05T11:33:53.583326Z  INFO realm: ğŸ“¦ Model: /home/puneet/.ollama/models/tinyllama-1.1b.Q4_K_M.gguf
2025-11-05T11:33:53.583333Z  INFO realm: ğŸ”— WebSocket: ws://127.0.0.1:8080
2025-11-05T11:33:53.583340Z  INFO realm: ğŸ“Š Metrics: http://127.0.0.1:9090/metrics
2025-11-05T11:33:53.583346Z  INFO realm: ğŸ‘¥ Max tenants: 8
2025-11-05T11:33:53.583352Z  INFO realm: ğŸ” Authentication: disabled
2025-11-05T11:33:53.583358Z  INFO realm: ğŸ’» Backend: CPU

Starting server...

2025-11-05T11:33:53.583383Z  INFO realm_server::runtime_manager: Initializing runtime manager with WASM: "target/wasm32-unknown-unknown/release/realm_wasm.wasm"
2025-11-05T11:33:53.864593Z  INFO realm_server::runtime_manager: WASM module loaded and compiled
2025-11-05T11:33:53.864662Z  INFO realm_server::runtime_manager: Set default model: "/home/puneet/.ollama/models/tinyllama-1.1b.Q4_K_M.gguf"
2025-11-05T11:33:53.864697Z  INFO realm_server::orchestrator: Registering model: default (type: "completion")
2025-11-05T11:33:53.864753Z  INFO realm_server::orchestrator: Set default as default model for type
2025-11-05T11:33:53.864767Z  INFO realm: âœ“ Registered model 'default' with orchestrator
âœ“ Server ready!

Available functions:
  â€¢ generate(prompt, options) - Generate text
  â€¢ pipeline(pipeline, input) - Execute multi-model pipeline
  â€¢ health() - Health check
  â€¢ metadata() - List available functions

Connect with wscat:
  wscat -c ws://127.0.0.1:8080

Example function call:
  {"id":"req_1","function":"generate","params":{"prompt":"Hello","max_tokens":50}}

â„¹ Press Ctrl+C to stop

2025-11-05T11:33:53.864985Z  INFO realm_server: ğŸš€ Realm WebSocket server listening on ws://127.0.0.1:8080
2025-11-05T11:33:53.865001Z  INFO realm_server: Runtime version: 0.1.0
2025-11-05T11:33:53.865019Z  INFO realm_server: Available functions:
2025-11-05T11:33:53.865030Z  INFO realm_server:   - generate (Generate text completion from a prompt)
2025-11-05T11:33:53.865070Z  INFO realm_server:   - health (Check server health status)
2025-11-05T11:33:53.865081Z  INFO realm_server:   - metadata (Get runtime metadata (available functions))
2025-11-05T11:33:53.865091Z  INFO realm_server:   - pipeline (Execute a multi-model pipeline)
2025-11-05T11:33:53.865123Z  INFO realm_server: ğŸ“Š Metrics available at http://127.0.0.1:9090/metrics
2025-11-05T11:33:53.865245Z  INFO realm_server::metrics_server: ğŸ“Š Metrics server listening on http://127.0.0.1:9090/metrics
2025-11-05T11:34:24.067318Z  INFO realm_server: New connection from 127.0.0.1:33624
2025-11-05T11:34:24.067554Z ERROR realm_server: WebSocket handshake failed: WebSocket protocol error: No "Connection: upgrade" header
2025-11-05T11:34:25.658075Z  INFO realm_server: New connection from 127.0.0.1:42322
2025-11-05T11:34:25.659094Z  INFO realm_server::websocket: New WebSocket connection (tenant: None)
2025-11-05T11:34:25.676695Z  INFO realm_server::dispatcher: Dispatching function: health (id: bea59669-8208-4e86-ac4e-0920d29cca50)
2025-11-05T11:34:25.683539Z  INFO realm_server::dispatcher: Dispatching function: generate (id: 93270211-73b5-470a-b3e2-6d80fb18d89b)
2025-11-05T11:34:25.683595Z  WARN realm_server::dispatcher: Using client-provided tenant ID: 0fbe54f3-ef2d-4490-bd19-1d72e330ec0c. For production, use API key authentication.
2025-11-05T11:34:25.683663Z  INFO realm_runtime::memory64_host: Memory64 Runtime: Candle CPU backend initialized
2025-11-05T11:34:25.683900Z ERROR realm_server::websocket: Dispatch error: Failed to instantiate WASM module
2025-11-05T11:34:25.708670Z ERROR realm_server::websocket: WebSocket error: WebSocket protocol error: Connection reset without closing handshake
2025-11-05T11:34:25.709122Z  INFO realm_server::websocket: WebSocket connection closed (tenant: None)
